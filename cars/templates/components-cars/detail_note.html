{% extends 'car/car_data.html' %}
{% load static %}

{{ car_object.slug }}
{% block edit_notes %}
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="intro-y box lg:mt-5">
            <div class="p-5">
                <div class="flex flex-col-reverse xl:flex-row flex-col">
                    <div class="flex-1 mt-6 xl:mt-0">
                        <div class="col-span-12 2xl:col-span-6">
                            {% for car_note in car_object.car_note.all %}
                                <div class="flex items-center p-5 border-b border-slate-200/60 dark:border-darkmode-400">
                                    <input name="title" type="text" class="form-control form-control-lg"
                                           value="{{ car_note.title }}"
                                           aria-label=".form-control-lg example">
                                </div>
                                <div class="items-center p-5 border-b border-slate-200/60 dark:border-darkmode-400">
                                    <textarea name="text"
                                              class="ck-blurred editor ck ck-content ck-editor__editable ck-rounded-corners ck-editor__editable_inline"
                                              lang="ru" dir="ltr" role="textbox"
                                              contenteditable="true">
                                        {{ car_note.text }}
                                    </textarea>
                                </div>
                                <div class="mx-6">
                                    <div class="multiple-items">
                                        {% for note_photo in car_note.car_note_photo.all %}
                                            <div class="h-32 px-2">
                                                <div class="h-full bg-slate-100 dark:bg-darkmode-400 rounded-md">
                                                    <h3 class="h-full font-medium flex items-center justify-center text-2xl">
                                                        <img class="rounded-md" alt="Пациент"
                                                             src="{{ note_photo.photo.url }}">
                                                    </h3>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="items-center p-5 border-b border-slate-200/60 dark:border-darkmode-400 dropzone">
                                    <div class="fallback "><input name="photo" type="file" multiple/></div>
                                    <div class="dz-message" data-dz-message>
                                        <div class="text-lg font-medium">Drop files here or click to upload.</div>
                                        <div class="text-slate-500"> This is just a demo dropzone. Selected files are
                                            <span
                                                    class="font-medium">not</span> actually uploaded.
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="intro-y box mt-1">
            <div class="p-5">
                <div class="flex justify-end mt-3">
                    <button type="submit" class="btn btn-success w-20 mr-auto">Сохранить</button>
                    <button class="btn btn-primary">
                        <a href="{% url 'cars:list-note' car=car_object.slug %}" class="text flex items-center"
                           type="button">
                            <i data-lucide="" class="w-4 h-4 mr-auto"></i>
                            Отменить
                        </a>
                    </button>
                </div>
            </div>
        </div>
    </form>

{% endblock edit_notes %}